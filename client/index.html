<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <!--
  Customize this policy to fit your own app's needs. For more guidance, see:
      https://github.com/apache/cordova-plugin-whitelist/blob/master/README.md#content-security-policy
  Some notes:
      * gap: is required only on iOS (when using UIWebView) and is needed for JS->native communication
      * https://ssl.gstatic.com is required only on Android and is needed for TalkBack to function properly
      * Disables use of inline scripts in order to mitigate risk of XSS vulnerabilities. To change this:
          * Enable inline JS: add 'unsafe-inline' to default-src
  -->
  <meta http-equiv="Content-Security-Policy" content="default-src * 'self' 'unsafe-inline' 'unsafe-eval' data: gap: content:">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui, viewport-fit=cover">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="default">
  <meta name="theme-color" content="#2196f3">
  <meta name="format-detection" content="telephone=no">
  <meta name="msapplication-tap-highlight" content="no">
  <title>Welborn LED Arch</title>
  <link rel="stylesheet" href="libs/framework7/css/framework7.min.css">
  <link rel="stylesheet" href="css/icons.css">
  <link rel="stylesheet" href="css/app.css">
</head>
<body>
  <script src="/reload/reload.js"></script>
  <div id="app">
    <f7-app :params="f7params">
      <!-- Statusbar -->
      <f7-statusbar></f7-statusbar>

      <!-- Left Panel -->
      <f7-panel left reveal theme-dark>
        <f7-view id="left-panel-view">
          <f7-page>
            <f7-navbar title="Left Panel"></f7-navbar>
            <f7-block-title>Animation Modes</f7-block-title>
            <f7-block>
              <f7-list>
                <mode-switch title="Off" inital-state-name='off'></mode-switch>
                <mode-switch title="Rainbow" inital-state-name='rainbow'></mode-switch>
                <mode-switch title="Fade" inital-state-name='fade'></mode-switch>
                <mode-switch title="Pulse" inital-state-name='pulse'></mode-switch>
              </f7-list>
            </f7-block>
            <f7-block-title>Coming?</f7-block-title>
            <f7-block>
              <f7-list>
                <button class="button col">Pong</button>
                <button class="button col">Draw on Arch</button>
                <button class="button col">Respond to Music</button>
                <button class="button col">Respond to Movie/Show</button>
                <button class="button col">Custom Animations</button>
              </f7-list>
            </f7-block>
          </f7-page>
        </f7-view>
      </f7-panel>


      <!-- Main View -->
      <f7-view id="main-view" main>
        <f7-page>
          <f7-navbar>
            <f7-nav-left>
              <f7-link icon-if-ios="f7:menu" icon-if-md="material:menu" panel-open="left"></f7-link>
            </f7-nav-left>
            <f7-nav-title>Welborn LED Arch</f7-nav-title>
          </f7-navbar>

          <f7-block-title>Current Mode is {{ currentState }}</f7-block-title>
          <f7-block>
              <!-- <on-off title="Rainbow" inital-state-name='rainbow'></on-off>
              <on-off title="Fade" inital-state-name='fade'></on-off>
              <on-off title="Pulse" inital-state-name='pulse'></on-off> -->

              <template id="off-settings-template" v-if="currentState == 'off'">
                Off Settings Template
                <speed-changer></speed-changer>
              </template>

              <template id="rainbow-settings-template" v-if="currentState == 'rainbow'">
                Rainbow Settings Template
                <speed-changer></speed-changer>
              </template>

              <template id="fade-settings-template" v-if="currentState == 'fade'">
                Fade Settings Template
              </template>

              <template id="pulse-settings-template" v-if="currentState == 'pulse'">
                Pulse Settings Template
              </template>

          </f7-block>


          <!-- <f7-block-title>Buttons</f7-block-title> -->
          <!-- <f7-block strong>
            <f7-row>
              <f7-col width="50">
                <f7-button fill raised panel-open="left">Left Panel</f7-button>
              </f7-col>
              <f7-col width="50">
                <f7-button fill raised popup-open="#popup">Popup</f7-button>
              </f7-col>
            </f7-row>
          </f7-block> -->
          <f7-list>
            <f7-list-item link="/about/" title="About"></f7-list-item>
          </f7-list>
        </f7-page>
      </f7-view>

      <!-- Popup -->
      <f7-popup id="popup">
        <f7-view>
          <f7-page>
            <f7-navbar title="Popup">
              <f7-nav-right>
                <f7-link popup-close>Close</f7-link>
              </f7-nav-right>
            </f7-navbar>
            <f7-block>
              Color-Picker
            </f7-block>
          </f7-page>
        </f7-view>
      </f7-popup>


    </f7-app> <!-- f7 app -->
  </div> <!-- ID vue app -->

  <!-- About Page Template -->
  <template id="page-about">
    <f7-page>
      <f7-navbar title="About" back-link="Back"></f7-navbar>
      <f7-block-title>Built by Dustin</f7-block-title>
      <f7-block strong>
        <!-- <p>You can go <f7-link back>back</f7-link>.</p> -->
        <p>
          <ul>
            <li>Built using Vue JS and Framework7 Front End</li>
            <li>Designed as a mobile webapp</li>
            <li>Backend is Node JS Running on a Raspberry Pi</li>
            <li>Controlls the Individualy Addressable RGB LEDs Running
            The length of The archway between The Dinning Room and The Living Room</li>
          </ul>
        </p>
      </f7-block>
    </f7-page>
  </template>


  <!-- On-Off Template -->
  <template id="on-off-template">
        <f7-segmented round round tag="p">
           <f7-button round outline v-bind="{ active: isActive }" @click="turnOn">{{ title }}</f7-button>
           <f7-button round outline v-bind="{ active: !isActive }" @click="turnOff">Off</f7-button>
         </f7-segmented>
  </template>


  <template id="mode-switch-template">
        <!-- <f7-segmented round round tag="p"> -->
           <f7-button round outline v-bind="{ active: isActive }" @click="toggle">{{ title }}</f7-button>
         <!-- </f7-segmented> -->
  </template>


  <template id="speed-changer-template">
    Speed Slider
    <div id='slider'></div>


  </template>

<script>
  var slider = document.getElementById('slider');
  noUiSlider.create(slider, {
    start: [20],
    connect: true,
    range: {
      'min': 0,
      'max': 100
    }
  });
</script>



  <!-- Cordova -->
  <!--<script src="cordova.js"></script>-->
  <!-- NoUiSlider Library -->
  <script src="libs/noUiSlider/nouislider.min.js"></script>
  <!-- Framework7 library -->
  <script src="libs/framework7/js/framework7.min.js"></script>
  <!-- Vue -->
  <script src="libs/vue/vue.min.js"></script>
  <!-- Framework7-Vue plugin -->
  <script src="libs/framework7-vue/framework7-vue.min.js"></script>
  <!-- Socket IO client -->
  <script src="/socket.io/socket.io.js"></script>
  <!-- Your custom app scripts -->
  <script src="js/app.js"></script>
</body>
</html>
